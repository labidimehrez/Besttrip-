{% extends "ClientBundle::layout.html.twig" %}
{% block pagetitle %}
    <div class="page-title-container">
        <div class="container">
            <div class="page-title pull-left">
                <h2 class="entry-title">Liste des itinéraires</h2>
            </div>

        </div>
    </div>
{% endblock %}
{% block container %}
    <div class="container">
        <div id="main">
            <div class="row">
                <div class="col-sm-4 col-md-3">
                    <h4 class="search-results-title"><i class="soap-icon-search"></i><b>{{ number }}</b> résultas trouvés.</h4>
                    <div class="toggle-container filters-container">


                        <!-- <div class="panel style1 arrow-right">
                             <h4 class="panel-title">
                                 <a data-toggle="collapse" href="#rating-filter" class="collapsed">User Rating</a>
                             </h4>
                             <div id="rating-filter" class="panel-collapse collapse">
                                 <div class="panel-content">
                                     <div id="rating" class="five-stars-container editable-rating"></div>
                                     <br />
                                     <small>2458 REVIEWS</small>
                                 </div>
                             </div>
                         </div>-->

                        <!--<div class="panel style1 arrow-right">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#accomodation-type-filter" class="collapsed">Accomodation Type</a>
                            </h4>
                            <div id="accomodation-type-filter" class="panel-collapse collapse">
                                <div class="panel-content">
                                    <ul class="check-square filters-option">
                                        <li><a href="#">All<small>(722)</small></a></li>
                                        <li><a href="#">Hotel<small>(982)</small></a></li>
                                        <li><a href="#">Resort<small>(127)</small></a></li>
                                        <li class="active"><a href="#">Bed &amp; Breakfast<small>(222)</small></a></li>
                                        <li><a href="#">Condo<small>(158)</small></a></li>
                                        <li><a href="#">Residence<small>(439)</small></a></li>
                                        <li><a href="#">Guest House<small>(52)</small></a></li>
                                    </ul>
                                    <a class="button btn-mini">MORE</a>
                                </div>
                            </div>
                        </div>-->

                        <!-- <div class="panel style1 arrow-right">
                             <h4 class="panel-title">
                                 <a data-toggle="collapse" href="#amenities-filter" class="collapsed">Amenities</a>
                             </h4>
                             <div id="amenities-filter" class="panel-collapse collapse">
                                 <div class="panel-content">
                                     <ul class="check-square filters-option">
                                         <li><a href="#">Bathroom<small>(722)</small></a></li>
                                         <li><a href="#">Cable tv<small>(982)</small></a></li>
                                         <li class="active"><a href="#">air conditioning<small>(127)</small></a></li>
                                         <li class="active"><a href="#">mini bar<small>(222)</small></a></li>
                                         <li><a href="#">wi - fi<small>(158)</small></a></li>
                                         <li><a href="#">pets allowed<small>(439)</small></a></li>
                                         <li><a href="#">room service<small>(52)</small></a></li>
                                     </ul>
                                     <a class="button btn-mini">MORE</a>
                                 </div>
                             </div>
                         </div>-->

                        <!--<div class="panel style1 arrow-right">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#language-filter" class="collapsed">Host Language</a>
                            </h4>
                            <div id="language-filter" class="panel-collapse collapse">
                                <div class="panel-content">
                                    <ul class="check-square filters-option">
                                        <li><a href="#">English<small>(722)</small></a></li>
                                        <li><a href="#">Español<small>(982)</small></a></li>
                                        <li class="active"><a href="#">Português<small>(127)</small></a></li>
                                        <li class="active"><a href="#">Français<small>(222)</small></a></li>
                                        <li><a href="#">Suomi<small>(158)</small></a></li>
                                        <li><a href="#">Italiano<small>(439)</small></a></li>
                                        <li><a href="#">Sign Language<small>(52)</small></a></li>
                                    </ul>
                                    <a class="button btn-mini">MORE</a>
                                </div>
                            </div>
                        </div>-->

                        <div class="panel style1 arrow-right">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#modify-search-panel" class="collapsed">Recherche avancée</a>
                            </h4>
                            <div id="modify-search-panel" class="panel-collapse collapse">
                                <div class="panel-content">
                                    <form method="POST" action="{{ path('client_consulter_itineraire') }}">
                                      
                                        <h4> Les Villes Visitées</h4>


                                        <div class="form-group">

                                            <label>Choisir Pays</label>

                                            <select class="selectpicker" name="Pays" id="Pays">
                                                <option value="">-- Choisir Pays --</option> 
                                                {% for pay in pays %}
                                                    <option value="{{ pay.idPays }}">{{ pay.nom }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                        <div class="form-group">

                                            <label>Choisir Villes</label>

                                            <select class="form-control m-b" multiple name="Ville[]" id="Ville">

                                            </select>
                                        </div>


                                        
                                        <br />
                                        <input type="submit" class="uppercase full-width button btn-large sky-blue1" name="Recherche" value="Recherche">
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-8 col-md-9">

                    <div class="hotel-list">

                        <div class="row flight-list image-box flight listing-style1">
                            {% for itineraire in itineraires %}
                                <div class="col-sm-6 col-md-4">
                                    <article class="box">
                                        <figure>

                                            <img id="image" width="270" height="160" alt="" src="{{ asset('uploads/Itineraire/'~ itineraire.attachement.lien) }}">
                                        </figure>
                                        <div class="details">
                                            <span class="price">
                                                <small>Prix</small>
                                                {{ itineraire.depense ~ ' ' ~ itineraire.devise }}
                                            </span>
                                            <h4 class="box-title">{{ itineraire.titre }}  

                                                <small></small>
                                            </h4>
                                            <div class="feedback">
                                                <div data-placement="bottom" data-toggle="tooltip" class="five-stars-container" title="4 stars"><span style="width: {{ itineraire.note~'%' }};" class="five-stars"></span></div>
                                                <span class="review">évaluer {{ itineraire.number }} fois</span>
                                            </div>
                                            <p class="description">
                                            </p>
                                            <div class="action">
                                                <a class="button btn-small" href="{{ path('client_consulter_itineraire_detail',{ id:itineraire.idItineraire } ) }}">Détails</a>
                                                {% if is_granted('ROLE_Gerant') %} <a class="button btn-small yellow popup-map" href="{{ path('gerant_ajouter_Parrainage',{ id:itineraire.idItineraire } ) }}" ><span><i class="soap-icon-beach"></i>Parrainer</span></a> {% endif %}
                                            </div>
                                        </div>
                                    </article>
                                </div>
                            {% endfor %}
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block script %}
    <script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
    <script src="{{ path('fos_js_routing_js', {"callback": "fos.Router.setData"}) }}"></script>
    <script src="{{ asset('bundles/client/js/getVille.js') }}"></script>
    <style>
        #image {
            width: 270px;
            height: 160px;
        }
    </style>
    <script type="text/javascript">
        tjq(document).ready(function () {
            tjq("#price-range").slider({
                range: true,
                min: 100,
                max: 10000,
                values: [1000, 5000],
                slide: function (event, ui) {
                    tjq(".min-price-label").html("$" + ui.values[ 0 ]);
                    tjq(".max-price-label").html("$" + ui.values[ 1 ]);
                    tjq("#max").attr("value", ui.values[ 1 ]);
                    tjq("#min").attr("value", ui.values[ 0 ]);
                }
            });
            tjq(".min-price-label").html("$" + tjq("#price-range").slider("values", 0));
            tjq(".max-price-label").html("$" + tjq("#price-range").slider("values", 1));
            tjq("#max").attr("value", tjq("#price-range").slider("values", 1));
            tjq("#min").attr("value", tjq("#price-range").slider("values", 0));


            tjq("#rating").slider({
                range: "min",
                value: 40,
                min: 0,
                max: 50,
                slide: function (event, ui) {

                }
            });
        });
    </script>
{% endblock %}
